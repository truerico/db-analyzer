[
    {
        "table": "dbo.DatabaseLog",
        "total_records": 1596,
        "dataset": [
            {
                "field": "DatabaseLogID",
                "distribution": [
                    {
                        "field_value": "1007",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    },
                    {
                        "field_value": "1006",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    },
                    {
                        "field_value": "1005",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    },
                    {
                        "field_value": "1004",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    },
                    {
                        "field_value": "1003",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    },
                    {
                        "field_value": "1002",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    },
                    {
                        "field_value": "1001",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    },
                    {
                        "field_value": "1000",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    },
                    {
                        "field_value": "100",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    },
                    {
                        "field_value": "10",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    }
                ]
            },
            {
                "field": "DatabaseUser",
                "distribution": [
                    {
                        "field_value": "dbo",
                        "row_count": 1596,
                        "ratio_percent": 100.0
                    }
                ]
            },
            {
                "field": "Event",
                "distribution": [
                    {
                        "field_value": "CREATE_EXTENDED_PROPERTY",
                        "row_count": 1231,
                        "ratio_percent": 77.13032581453633
                    },
                    {
                        "field_value": "ALTER_TABLE",
                        "row_count": 117,
                        "ratio_percent": 7.330827067669173
                    },
                    {
                        "field_value": "CREATE_INDEX",
                        "row_count": 95,
                        "ratio_percent": 5.9523809523809526
                    },
                    {
                        "field_value": "CREATE_TABLE",
                        "row_count": 70,
                        "ratio_percent": 4.385964912280702
                    },
                    {
                        "field_value": "CREATE_VIEW",
                        "row_count": 20,
                        "ratio_percent": 1.2531328320802004
                    },
                    {
                        "field_value": "CREATE_FUNCTION",
                        "row_count": 11,
                        "ratio_percent": 0.6892230576441103
                    },
                    {
                        "field_value": "CREATE_PROCEDURE",
                        "row_count": 10,
                        "ratio_percent": 0.6265664160401002
                    },
                    {
                        "field_value": "CREATE_TRIGGER",
                        "row_count": 10,
                        "ratio_percent": 0.6265664160401002
                    },
                    {
                        "field_value": "CREATE_XML_INDEX",
                        "row_count": 8,
                        "ratio_percent": 0.5012531328320802
                    },
                    {
                        "field_value": "CREATE_TYPE",
                        "row_count": 6,
                        "ratio_percent": 0.37593984962406013
                    }
                ]
            },
            {
                "field": "Object",
                "distribution": [
                    {
                        "field_value": "ModifiedDate",
                        "row_count": 69,
                        "ratio_percent": 4.323308270676692
                    },
                    {
                        "field_value": "rowguid",
                        "row_count": 29,
                        "ratio_percent": 1.8170426065162908
                    },
                    {
                        "field_value": "Name",
                        "row_count": 23,
                        "ratio_percent": 1.4411027568922306
                    },
                    {
                        "field_value": "BusinessEntityID",
                        "row_count": 17,
                        "ratio_percent": 1.0651629072681705
                    },
                    {
                        "field_value": "ProductID",
                        "row_count": 16,
                        "ratio_percent": 1.0025062656641603
                    },
                    {
                        "field_value": "EndDate",
                        "row_count": 7,
                        "ratio_percent": 0.43859649122807015
                    },
                    {
                        "field_value": "StartDate",
                        "row_count": 7,
                        "ratio_percent": 0.43859649122807015
                    },
                    {
                        "field_value": "Document",
                        "row_count": 6,
                        "ratio_percent": 0.37593984962406013
                    },
                    {
                        "field_value": "EmailAddress",
                        "row_count": 6,
                        "ratio_percent": 0.37593984962406013
                    },
                    {
                        "field_value": "Person",
                        "row_count": 6,
                        "ratio_percent": 0.37593984962406013
                    }
                ]
            },
            {
                "field": "PostTime",
                "distribution": [
                    {
                        "field_value": "Oct 26 2022  2:31PM",
                        "row_count": 1596,
                        "ratio_percent": 100.0
                    }
                ]
            },
            {
                "field": "Schema",
                "distribution": [
                    {
                        "field_value": "Production",
                        "row_count": 495,
                        "ratio_percent": 31.015037593984964
                    },
                    {
                        "field_value": "Sales",
                        "row_count": 432,
                        "ratio_percent": 27.06766917293233
                    },
                    {
                        "field_value": "Person",
                        "row_count": 249,
                        "ratio_percent": 15.601503759398497
                    },
                    {
                        "field_value": "HumanResources",
                        "row_count": 164,
                        "ratio_percent": 10.275689223057643
                    },
                    {
                        "field_value": "Purchasing",
                        "row_count": 150,
                        "ratio_percent": 9.398496240601503
                    },
                    {
                        "field_value": "dbo",
                        "row_count": 97,
                        "ratio_percent": 6.0776942355889725
                    },
                    {
                        "field_value": "**EMPTY**",
                        "row_count": 8,
                        "ratio_percent": 0.5012531328320802
                    },
                    {
                        "field_value": "**NULL**",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    }
                ]
            },
            {
                "field": "TSQL",
                "distribution": [
                    {
                        "field_value": "CREATE FUNCTION [dbo].[ufnGetPurchaseOrderStatusText](@Status [tinyint])\r\nRETURNS [nvarchar](15) \r\nAS \r\n-- Returns the sales order status text representation for the status value.\r\nBEGIN\r\n    DECLARE @ret [nvarchar](15);\r\n\r\n    SET @ret = \r\n        CASE @Status\r\n            WHEN 1 THEN 'Pending'\r\n            WHEN 2 THEN 'Approved'\r\n            WHEN 3 THEN 'Rejected'\r\n            WHEN 4 THEN 'Complete'\r\n            ELSE '** Invalid **'\r\n        END;\r\n    \r\n    RETURN @ret\r\nEND;",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    },
                    {
                        "field_value": "CREATE FUNCTION [dbo].[ufnGetProductStandardCost](@ProductID [int], @OrderDate [datetime])\r\nRETURNS [money] \r\nAS \r\n-- Returns the standard cost for the product on a specific date.\r\nBEGIN\r\n    DECLARE @StandardCost money;\r\n\r\n    SELECT @StandardCost = pch.[StandardCost] \r\n    FROM [Production].[Product] p \r\n        INNER JOIN [Production].[ProductCostHistory] pch \r\n        ON p.[ProductID] = pch.[ProductID] \r\n            AND p.[ProductID] = @ProductID \r\n            AND @OrderDate BETWEEN pch.[StartDate] AND COALESCE(pch.[EndDate], CONVERT(datetime, '99991231', 112)); -- Make sure we get all the prices!\r\n\r\n    RETURN @StandardCost;\r\nEND;",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    },
                    {
                        "field_value": "CREATE FUNCTION [dbo].[ufnGetProductListPrice](@ProductID [int], @OrderDate [datetime])\r\nRETURNS [money] \r\nAS \r\nBEGIN\r\n    DECLARE @ListPrice money;\r\n\r\n    SELECT @ListPrice = plph.[ListPrice] \r\n    FROM [Production].[Product] p \r\n        INNER JOIN [Production].[ProductListPriceHistory] plph \r\n        ON p.[ProductID] = plph.[ProductID] \r\n            AND p.[ProductID] = @ProductID \r\n            AND @OrderDate BETWEEN plph.[StartDate] AND COALESCE(plph.[EndDate], CONVERT(datetime, '99991231', 112)); -- Make sure we get all the prices!\r\n\r\n    RETURN @ListPrice;\r\nEND;",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    },
                    {
                        "field_value": "CREATE FUNCTION [dbo].[ufnGetDocumentStatusText](@Status [tinyint])\r\nRETURNS [nvarchar](16) \r\nAS \r\n-- Returns the sales order status text representation for the status value.\r\nBEGIN\r\n    DECLARE @ret [nvarchar](16);\r\n\r\n    SET @ret = \r\n        CASE @Status\r\n            WHEN 1 THEN N'Pending approval'\r\n            WHEN 2 THEN N'Approved'\r\n            WHEN 3 THEN N'Obsolete'\r\n            ELSE N'** Invalid **'\r\n        END;\r\n    \r\n    RETURN @ret\r\nEND;",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    },
                    {
                        "field_value": "CREATE FUNCTION [dbo].[ufnGetContactInformation](@PersonID int)\r\nRETURNS @retContactInformation TABLE \r\n(\r\n    -- Columns returned by the function\r\n    [PersonID] int NOT NULL, \r\n    [FirstName] [nvarchar](50) NULL, \r\n    [LastName] [nvarchar](50) NULL, \r\n\t[JobTitle] [nvarchar](50) NULL,\r\n    [BusinessEntityType] [nvarchar](50) NULL\r\n)\r\nAS \r\n-- Returns the first name, last name, job title and business entity type for the specified contact.\r\n-- Since a contact can serve multiple roles, more than one row may be returned.\r\nBEGIN\r\n\tIF @PersonID IS NOT NULL \r\n\t\tBEGIN\r\n\t\tIF EXISTS(SELECT * FROM [HumanResources].[Employee] e \r\n\t\t\t\t\tWHERE e.[BusinessEntityID] = @PersonID) \r\n\t\t\tINSERT INTO @retContactInformation\r\n\t\t\t\tSELECT @PersonID, p.FirstName, p.LastName, e.[JobTitle], 'Employee'\r\n\t\t\t\tFROM [HumanResources].[Employee] AS e\r\n\t\t\t\t\tINNER JOIN [Person].[Person] p\r\n\t\t\t\t\tON p.[BusinessEntityID] = e.[BusinessEntityID]\r\n\t\t\t\tWHERE e.[BusinessEntityID] = @PersonID;\r\n\r\n\t\tIF EXISTS(SELECT * FROM [Purchasing].[Vendor] AS v\r\n\t\t\t\t\tINNER JOIN [Person].[BusinessEntityContact] bec \r\n\t\t\t\t\tON bec.[BusinessEntityID] = v.[BusinessEntityID]\r\n\t\t\t\t\tWHERE bec.[PersonID] = @PersonID)\r\n\t\t\tINSERT INTO @retContactInformation\r\n\t\t\t\tSELECT @PersonID, p.FirstName, p.LastName, ct.[Name], 'Vendor Contact' \r\n\t\t\t\tFROM [Purchasing].[Vendor] AS v\r\n\t\t\t\t\tINNER JOIN [Person].[BusinessEntityContact] bec \r\n\t\t\t\t\tON bec.[BusinessEntityID] = v.[BusinessEntityID]\r\n\t\t\t\t\tINNER JOIN [Person].ContactType ct\r\n\t\t\t\t\tON ct.[ContactTypeID] = bec.[ContactTypeID]\r\n\t\t\t\t\tINNER JOIN [Person].[Person] p\r\n\t\t\t\t\tON p.[BusinessEntityID] = bec.[PersonID]\r\n\t\t\t\tWHERE bec.[PersonID] = @PersonID;\r\n\t\t\r\n\t\tIF EXISTS(SELECT * FROM [Sales].[Store] AS s\r\n\t\t\t\t\tINNER JOIN [Person].[BusinessEntityContact] bec \r\n\t\t\t\t\tON bec.[BusinessEntityID] = s.[BusinessEntityID]\r\n\t\t\t\t\tWHERE bec.[PersonID] = @PersonID)\r\n\t\t\tINSERT INTO @retContactInformation\r\n\t\t\t\tSELECT @PersonID, p.FirstName, p.LastName, ct.[Name], 'Store Contact' \r\n\t\t\t\tFROM [Sales].[Store] AS s\r\n\t\t\t\t\tINNER JOIN [Person].[BusinessEntityContact] bec \r\n\t\t\t\t\tON bec.[BusinessEntityID] = s.[BusinessEntityID]\r\n\t\t\t\t\tINNER JOIN [Person].ContactType ct\r\n\t\t\t\t\tON ct.[ContactTypeID] = bec.[ContactTypeID]\r\n\t\t\t\t\tINNER JOIN [Person].[Person] p\r\n\t\t\t\t\tON p.[BusinessEntityID] = bec.[PersonID]\r\n\t\t\t\tWHERE bec.[PersonID] = @PersonID;\r\n\r\n\t\tIF EXISTS(SELECT * FROM [Person].[Person] AS p\r\n\t\t\t\t\tINNER JOIN [Sales].[Customer] AS c\r\n\t\t\t\t\tON c.[PersonID] = p.[BusinessEntityID]\r\n\t\t\t\t\tWHERE p.[BusinessEntityID] = @PersonID AND c.[StoreID] IS NULL) \r\n\t\t\tINSERT INTO @retContactInformation\r\n\t\t\t\tSELECT @PersonID, p.FirstName, p.LastName, NULL, 'Consumer' \r\n\t\t\t\tFROM [Person].[Person] AS p\r\n\t\t\t\t\tINNER JOIN [Sales].[Customer] AS c\r\n\t\t\t\t\tON c.[PersonID] = p.[BusinessEntityID]\r\n\t\t\t\t\tWHERE p.[BusinessEntityID] = @PersonID AND c.[StoreID] IS NULL; \r\n\t\tEND\r\n\r\n\tRETURN;\r\nEND;",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    },
                    {
                        "field_value": "CREATE FUNCTION [dbo].[ufnGetAccountingStartDate]()\r\nRETURNS [datetime] \r\nAS \r\nBEGIN\r\n    RETURN CONVERT(datetime, '20030701', 112);\r\nEND;",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    },
                    {
                        "field_value": "CREATE FUNCTION [dbo].[ufnGetAccountingEndDate]()\r\nRETURNS [datetime] \r\nAS \r\nBEGIN\r\n    RETURN DATEADD(millisecond, -2, CONVERT(datetime, '20040701', 112));\r\nEND;",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    },
                    {
                        "field_value": "--A stored procedure which demonstrates integrated full text search\r\n\r\nCREATE PROCEDURE [dbo].[uspSearchCandidateResumes]\r\n    @searchString [nvarchar](1000),   \r\n    @useInflectional [bit]=0,\r\n    @useThesaurus [bit]=0,\r\n    @language[int]=0\r\n\r\n\r\nWITH EXECUTE AS CALLER\r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n\r\n      DECLARE @string nvarchar(1050)\r\n      --setting the lcid to the default instance LCID if needed\r\n      IF @language = NULL OR @language = 0 \r\n      BEGIN \r\n            SELECT @language =CONVERT(int, serverproperty('lcid'))  \r\n      END\r\n      \r\n\r\n            --FREETEXTTABLE case as inflectional and Thesaurus were required\r\n      IF @useThesaurus = 1 AND @useInflectional = 1  \r\n        BEGIN\r\n                  SELECT FT_TBL.[JobCandidateID], KEY_TBL.[RANK] FROM [HumanResources].[JobCandidate] AS FT_TBL \r\n                        INNER JOIN FREETEXTTABLE([HumanResources].[JobCandidate],*, @searchString,LANGUAGE @language) AS KEY_TBL\r\n                   ON  FT_TBL.[JobCandidateID] =KEY_TBL.[KEY]\r\n            END\r\n\r\n      ELSE IF @useThesaurus = 1\r\n            BEGIN\r\n                  SELECT @string ='FORMSOF(THESAURUS,\"'+@searchString +'\"'+')'      \r\n                  SELECT FT_TBL.[JobCandidateID], KEY_TBL.[RANK] FROM [HumanResources].[JobCandidate] AS FT_TBL \r\n                        INNER JOIN CONTAINSTABLE([HumanResources].[JobCandidate],*, @string,LANGUAGE @language) AS KEY_TBL\r\n                   ON  FT_TBL.[JobCandidateID] =KEY_TBL.[KEY]\r\n        END\r\n\r\n      ELSE IF @useInflectional = 1\r\n            BEGIN\r\n                  SELECT @string ='FORMSOF(INFLECTIONAL,\"'+@searchString +'\"'+')'\r\n                  SELECT FT_TBL.[JobCandidateID], KEY_TBL.[RANK] FROM [HumanResources].[JobCandidate] AS FT_TBL \r\n                        INNER JOIN CONTAINSTABLE([HumanResources].[JobCandidate],*, @string,LANGUAGE @language) AS KEY_TBL\r\n                   ON  FT_TBL.[JobCandidateID] =KEY_TBL.[KEY]\r\n        END\r\n  \r\n      ELSE --base case, plain CONTAINSTABLE\r\n            BEGIN\r\n                  SELECT @string='\"'+@searchString +'\"'\r\n                  SELECT FT_TBL.[JobCandidateID],KEY_TBL.[RANK] FROM [HumanResources].[JobCandidate] AS FT_TBL \r\n                        INNER JOIN CONTAINSTABLE([HumanResources].[JobCandidate],*,@string,LANGUAGE @language) AS KEY_TBL\r\n                   ON  FT_TBL.[JobCandidateID] =KEY_TBL.[KEY]\r\n            END\r\n\r\nEND;",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    },
                    {
                        "field_value": "CREATE FUNCTION [dbo].[ufnGetProductDealerPrice](@ProductID [int], @OrderDate [datetime])\r\nRETURNS [money] \r\nAS \r\n-- Returns the dealer price for the product on a specific date.\r\nBEGIN\r\n    DECLARE @DealerPrice money;\r\n    DECLARE @DealerDiscount money;\r\n\r\n    SET @DealerDiscount = 0.60  -- 60% of list price\r\n\r\n    SELECT @DealerPrice = plph.[ListPrice] * @DealerDiscount \r\n    FROM [Production].[Product] p \r\n        INNER JOIN [Production].[ProductListPriceHistory] plph \r\n        ON p.[ProductID] = plph.[ProductID] \r\n            AND p.[ProductID] = @ProductID \r\n            AND @OrderDate BETWEEN plph.[StartDate] AND COALESCE(plph.[EndDate], CONVERT(datetime, '99991231', 112)); -- Make sure we get all the prices!\r\n\r\n    RETURN @DealerPrice;\r\nEND;",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    },
                    {
                        "field_value": "-- uspPrintError prints error information about the error that caused \r\n-- execution to jump to the CATCH block of a TRY...CATCH construct. \r\n-- Should be executed from within the scope of a CATCH block otherwise \r\n-- it will return without printing any error information.\r\nCREATE PROCEDURE [dbo].[uspPrintError] \r\nAS\r\nBEGIN\r\n    SET NOCOUNT ON;\r\n\r\n    -- Print error information. \r\n    PRINT 'Error ' + CONVERT(varchar(50), ERROR_NUMBER()) +\r\n          ', Severity ' + CONVERT(varchar(5), ERROR_SEVERITY()) +\r\n          ', State ' + CONVERT(varchar(5), ERROR_STATE()) + \r\n          ', Procedure ' + ISNULL(ERROR_PROCEDURE(), '-') + \r\n          ', Line ' + CONVERT(varchar(5), ERROR_LINE());\r\n    PRINT ERROR_MESSAGE();\r\nEND;",
                        "row_count": 1,
                        "ratio_percent": 0.06265664160401002
                    }
                ]
            }
        ]
    }
]